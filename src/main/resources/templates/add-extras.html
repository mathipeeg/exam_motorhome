<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/stylesheet.css">
    <title>NRM: Add Extras</title>
</head>
<script>
    function getExtras() {
        let extras = document.getElementsByName("extras");
        for (let i = 0; i < extras.length; i++) {
            if (extras[i].id === "check" && extras[i].checked) {
                addExtras(extras[i].value)
            }
        }
        window.location.href = "http://localhost:8080/order-submitted";
    }

    function addExtras(id) {
        let xhttp = new XMLHttpRequest();
        xhttp.open("POST", "/addExtra?extraId="+id, true);
        xhttp.send();
    }
</script>
<body>
<div th:replace="fragments/header :: header"></div>
    <div class="container">
<<<<<<< HEAD
        <p class="p-text-over-underline">Tilføjelser til ordre</p>
        <hr class="hr-underline" size="4">
<!--    <table id="add-extras-table">-->
<!--        <tr th:each="extra : ${extras}">-->
<!--            <td><input class="add-extra-checkbox" type="checkbox" id="extras" name="extras" value="test" th:id="check" th:value="${extra.id}"></td>-->
<!--            <td><label class="add-extra-label" for="extras" th:text="${extra.description} + ' '"><span class="checkmark"></span></label></td>-->
<!--            <td id="add-extra-price-td"><label class="add-extra-label" th:text="${extra.price} +'€'"><span class="checkmark"></span></label></td>-->
<!--        </tr>-->
<!--        -->
        <div th:each="extra : ${extras}">
            <label class="label-checkbox" th:text="${extra.description}">
                <input type="checkbox" th:id="check" th:value="${extra.id}">
                <span class="checkmark"></span>
            </label>
        </div>
<!--        </div>-->

<!--    </table>-->

    <table>
        <tr th:each="extra : ${extras}">
            <td><input type="checkbox" id="extras" name="extras" th:id="check" th:value="${extra.id}">
            <label for="extras" th:text="${extra.description}"></label></td>
        </tr>

    </table>
<!--    <div th:each="extra : ${extras}">-->
<!--        <label class="label-checkbox" th:text="${extra.description}">-->
<!--            <input type="checkbox" class="checkmark" th:id="check" th:value="${extra.id}">-->
<!--            <span class="checkmark"></span>-->
<!--        </label>-->
<!--    </div>-->
        <button onclick="getExtras()" id="add-extras">Add extras</button>
    </div>
    <footer>
        <div class="footer">
            <p><b>Nordic Rental Motorhomes</b> <br>
                Københavnsvej 334, 2600 Glostrup
                <br> Telefon: 23 65 78 45 </br>
                <a style="text-decoration: none" href="mailto:info@nordicrental.dk" class="mail">mail: info@nordicrental.dk</a></p>
        </div>
    </footer>
</body>
</html>