<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/stylesheet.css">
    <title>NRM: Login</title>
</head>
<script>
    function login() {
        var xhr = new XMLHttpRequest();
        let email = document.getElementById("email").value
        let password = document.getElementById("password").value

        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
                if (xhr.status === 200){
                    window.location.href = "http://localhost:8080/";
                } else{
                    alert("Info didn't match. Try again.")
                }
            }
        }
        let form = new FormData(document.forms.namedItem("login-form"));
        form.append(email, password);

        xhr.open('post', "http://localhost:8080/login", true);
        xhr.send(form);
    }
</script>
<body>
    <div th:replace="fragments/header :: header"></div>
    <div class="loginContainer">
        <form class="center" id="login-form">
            <input type="text" id="email" name="email" placeholder="email">
            <input type="password" id="password" name="password" placeholder="Password">
        </form>
        <button class="btn" onclick="login()">Login</button>
    </div>
</body>
</html>